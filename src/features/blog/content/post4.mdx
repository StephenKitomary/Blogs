---
title: Automatic Desk Lamp Withs Arduino
description: This here is a very short description of the project
image: /images/Light-min.png
createdAt: 2025-03-02
updatedAt: 2025-04-02
---
## Components You'll Need

- Arduino Uno or Nano
- Light Dependent Resistor (LDR/photoresistor)
- 10kΩ resistor
- 5V LED strip or 5V lamp (that can connect directly to Arduino)
- Jumper wires
- Mini breadboard
- Micro USB cable (for Arduino)
- USB power supply (2A recommended)
- 3D printer access (or use a 3D printing service)

![Project Components](/images/blog/simple-lamp-components.webp)

## The Circuit: Simplicity is Key

This project uses a wonderfully simple circuit:

![Arduino Desk Lamp Circuit Diagram](/images/blog/simple-lamp-circuit.webp)

### Connections

1. **LDR Circuit:**
   - Connect one leg of the LDR to Arduino 5V
   - Connect the other leg to:
     - Arduino Analog Pin A0
     - One end of the 10kΩ resistor
   - Connect the other end of the 10kΩ resistor to GND

2. **LED Lamp Connection:**
   - Connect the positive (+) wire of your 5V lamp to Arduino Digital Pin 9 (PWM pin)
   - Connect the negative (-) wire to Arduino GND

That's it! No relay needed since we're using a low-voltage 5V lamp that Arduino can power directly.

> **Note**: Make sure your lamp draws less than 40mA if connecting directly to an Arduino pin, or use a transistor for higher current loads. Many small 5V LED lamps or short LED strips can be powered directly.

## The Code: Brightness Control

Instead of simply turning the lamp on or off, our code will gradually adjust the brightness based on ambient light levels:

```cpp
// Simple Arduino Desk Lamp with Auto-Brightness
// Uses an LDR sensor to control a 5V LED lamp

// Pin definitions
const int LDR_PIN = A0;     // LDR connected to analog pin A0
const int LAMP_PIN = 9;     // 5V lamp connected to PWM pin 9

// Brightness control parameters
const int MIN_BRIGHTNESS = 10;   // Minimum lamp brightness (0-255)
const int MAX_BRIGHTNESS = 255;  // Maximum lamp brightness (0-255)
const int AMBIENT_DARK = 300;    // LDR reading in dark room (calibrate this!)
const int AMBIENT_BRIGHT = 800;  // LDR reading in bright room (calibrate this!)

// Variables
int lightLevel = 0;         // Current LDR reading
int lampBrightness = 0;     // Current lamp brightness

void setup() {
  // Initialize serial communication for debugging
  Serial.begin(9600);
  
  // Set the lamp pin as OUTPUT
  pinMode(LAMP_PIN, OUTPUT);
  
  Serial.println("Arduino Auto-Brightness Desk Lamp");
  Serial.println("--------------------------------");
}

void loop() {
  // Read the value from the LDR
  lightLevel = analogRead(LDR_PIN);
  
  // Map the ambient light reading to lamp brightness (inverse relationship)
  // As room gets darker (lower LDR value), lamp gets brighter
  lampBrightness = map(constrain(lightLevel, AMBIENT_DARK, AMBIENT_BRIGHT), 
                       AMBIENT_DARK, AMBIENT_BRIGHT, 
                       MAX_BRIGHTNESS, MIN_BRIGHTNESS);
  
  // Set the lamp brightness
  analogWrite(LAMP_PIN, lampBrightness);
  
  // Print current readings for debugging
  Serial.print("Ambient Light: ");
  Serial.print(lightLevel);
  Serial.print("\tLamp Brightness: ");
  Serial.println(lampBrightness);
  
  // Small delay before next reading
  delay(100);
}
```

### How the Code Works

1. **Reading the Sensor**: The Arduino continuously reads the LDR value, which indicates ambient brightness.

2. **Mapping Values**: We use Arduino's `map()` function to convert the LDR reading (typically 0-1023) to a PWM value (0-255) for controlling lamp brightness.

3. **Inverse Relationship**: When the room is dark (low LDR value), the lamp should be bright, and vice versa.

4. **PWM Control**: The `analogWrite()` function sends a PWM signal to control lamp brightness - this creates a smooth dimming effect rather than just on/off.

## Calibrating Your Lamp

The default values for `AMBIENT_DARK` and `AMBIENT_BRIGHT` might need adjustment based on your specific environment. To calibrate:

1. Upload this simplified calibration sketch:

```cpp
// Calibration sketch for Auto-Brightness Lamp

void setup() {
  Serial.begin(9600);
  Serial.println("LDR Calibration");
  Serial.println("---------------");
}

void loop() {
  int lightLevel = analogRead(A0);
  
  Serial.print("Light level: ");
  Serial.println(lightLevel);
  
  delay(500);
}
```

2. Open the Serial Monitor and note the LDR readings:
   - Cover the LDR to simulate darkness and note the value
   - Place it in normal desk lighting and note the value
   - Place it in bright light or sunlight and note the value

3. Update the main code with your values:
   - Set `AMBIENT_DARK` to your reading in darkness
   - Set `AMBIENT_BRIGHT` to your reading in bright conditions

## 3D Printed Enclosure

To give your project a professional finish, I've designed a sleek, modern lamp enclosure that you can 3D print. The design includes:

- A discrete compartment for the Arduino and wiring
- Perfect placement for the LDR sensor
- Diffused light chamber for even illumination
- Cable management path
- Stable base design

![3D Printed Lamp Design](/images/blog/lamp-3d-design.webp)

### Download the 3D Files

The download includes:
- STL files ready for slicing
- Source files (Fusion 360) if you want to modify the design
- Assembly instructions
- Recommended print settings

## Assembly Instructions

1. **Print the enclosure parts** using PLA or PETG (20% infill works well)
2. **Prepare the circuit** on a mini breadboard
3. **Mount the Arduino** in the base compartment
4. **Install the LDR** in the small hole on top
5. **Thread the LED strip** through the main lamp column
6. **Connect all wires** according to the circuit diagram
7. **Snap the pieces together** (no screws needed for basic assembly)
8. **Upload the code** to your Arduino
9. **Power up** and enjoy your new smart lamp!

![Lamp Assembly Steps](/images/blog/lamp-assembly.webp)

## Enhancements and Modifications

### Add a Physical Brightness Control

You can add a potentiometer to manually adjust the maximum brightness:

```cpp
const int POT_PIN = A1;     // Potentiometer for manual brightness control

// In the loop function, add:
int manualLimit = map(analogRead(POT_PIN), 0, 1023, MIN_BRIGHTNESS, MAX_BRIGHTNESS);
lampBrightness = constrain(lampBrightness, MIN_BRIGHTNESS, manualLimit);
```

### Add Sleep Timer Functionality

With the addition of a button, you can implement a sleep timer:

```cpp
const int BUTTON_PIN = 2;   // Button for sleep timer
unsigned long sleepTime = 0; // When to turn off the lamp

// In setup:
pinMode(BUTTON_PIN, INPUT_PULLUP);

// In loop, add:
if (digitalRead(BUTTON_PIN) == LOW) {
  sleepTime = millis() + 30*60*1000; // 30 minutes from now
  Serial.println("Sleep timer activated: 30 minutes");
  delay(300); // Debounce
}

// Turn off lamp if sleep timer expired
if (sleepTime > 0 && millis() > sleepTime) {
  analogWrite(LAMP_PIN, 0);
  sleepTime = 0; // Reset timer
} 
```

## Troubleshooting

If your lamp isn't working correctly, check these common issues:

1. **Lamp doesn't light up**:
   - Verify all connections
   - Make sure your 5V lamp works directly with a power source
   - Check if you need a transistor (for lamps drawing >40mA)

2. **Brightness doesn't change**:
   - Verify the LDR is connected correctly
   - Check Serial Monitor for LDR readings
   - Try recalibrating with different AMBIENT values

3. **Arduino resets randomly**:
   - Your lamp may draw too much current - add a transistor
   - Use an external power supply with sufficient amperage

## Conclusion

This simple Arduino desk lamp project demonstrates how a few basic components can create a useful, everyday object with "smart" functionality. The auto-brightness feature makes it practical, while the 3D printed enclosure gives it a professional look that wouldn't be out of place in any home or office.

The skills you've learned here—reading analog sensors, controlling brightness with PWM, and mapping input values to output ranges—can be applied to countless other Arduino projects.

What modifications will you make to your lamp? Share your builds in the comments!

![Final Lamp in Action](/images/blog/lamp-in-action.webp)

## Resources and Further Reading

- [Arduino Analog Input Tutorial](https://www.arduino.cc/en/Tutorial/AnalogInput)
- [PWM with Arduino](https://www.arduino.cc/en/Tutorial/PWM)
- [3D Printing Basics for Makers](https://www.matterhackers.com/articles/3d-printer-guidebook-how-to-3d-print)
- [Introduction to Light Sensors](https://learn.sparkfun.com/tutorials/light/all)
